<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ribrik PWA</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="dist/css/style.css" />
  <meta name="theme-color" content="#ff007f" />
  <link rel="icon" href="images/icon-192.png" />
  <style>
    /* ... Din befintliga CSS hÃ¤r ... */
  </style>
</head>
<body>
<header>
  <h1>Ribrik PWA Demo</h1>
</header>
<main>
  <button id="installButton" hidden>ðŸ“² Installera appen</button>
  <div class="game-container">
    <div class="balance-label">Din Balans:</div>
    <div class="balance" id="balanceDisplay">10</div>
    <button onclick="playGame()">Spela!</button>
    <div class="result-message" id="resultMessage"></div>
  </div>
</main>
<footer>
  <p>Â© 2025 Ribrik.github.io</p>
</footer>

<script>
  let balance = 10;

  function playGame() {
    const random = Math.random();
    const resultMessageEl = document.getElementById('resultMessage');
    if (random < 0.5) {
      balance += 5;
      resultMessageEl.textContent = 'ðŸŽ‰ Du vann! +5';
      resultMessageEl.classList.remove('loss');
    } else {
      balance -= 3;
      resultMessageEl.textContent = 'ðŸ˜¢ Du fÃ¶rlorade -3';
      resultMessageEl.classList.add('loss');
    }
    document.getElementById('balanceDisplay').textContent = balance;
  }

  // Service Worker registration
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(() => console.log('Service Worker registrerad.'))
      .catch(err => console.log('Service Worker registrering misslyckades:', err));
  }

  // Install prompt
  let deferredPrompt;
  const installBtn = document.getElementById('installButton');
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installBtn.hidden = false;
  });
  installBtn.addEventListener('click', async () => {
    installBtn.hidden = true;
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    console.log(`Installationsval: ${outcome}`);
    deferredPrompt = null;
  });
</script>
</body>
</html>
